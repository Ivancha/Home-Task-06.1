var TEMPLATE_ENGINE="jade";define(["jquery","template/menu."+TEMPLATE_ENGINE,"template/images."+TEMPLATE_ENGINE,"template/characteristics."+TEMPLATE_ENGINE],function(t,i,a,e){function d(i,a){this.bikeId=i.id,this.$body=a;var e=!1;t('<a href="#">').text(i.vendor+" "+i.name).appendTo(t("<h3></h3>").appendTo(this.$body)).click(function(t){t.preventDefault(),this.load(),this.$body.toggleClass("expanded",e=!e)}.bind(this))}return d.prototype.load=function(){if("loading"!=this.status&&"loaded"!=this.status){this.status="loading";var d=t("<div>").addClass("bike-loading").appendTo(this.$body);t.get("./data/bike/"+this.bikeId+".json",function(s){d.remove(),this.status="loaded";var n=t(i({bike:s})).appendTo(this.$body),o=t("<div>").addClass("bike-data").appendTo(this.$body);n.find("[data-tab]").click(function(){n.find("li").removeClass("active"),t(this).addClass("active")}),n.find("[data-tab=images]").click(function(){o.empty().append(a({bike:s}))}),n.find("[data-tab=characteristics]").click(function(){o.empty().append(e({bike:s}))}),n.find("li:first").click()}.bind(this))}},d});